<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <title>Galactic Imperator</title>

        <link href="https://fonts.googleapis.com/css2?family=Audiowide&family=Space+Mono&display=swap" rel="stylesheet">

        <link rel="stylesheet" href="/app.css" type="text/css" media="screen" charset="utf-8">

        <style type="text/css" media="screen">
.font-display {
    font-family: 'Audiowide', sans-serif;
}

.font-monospace {
    font-family: 'Space Mono', monospace;
}

.page {
    display: grid;
    grid-template: auto 1fr / auto 1fr;
}

.quadrant {
    display: grid;
    grid-template: 1.5rem repeat(10, 1fr) 1.5rem / 1.5rem repeat(10, 1fr) 1.5rem;
    background-image: url('/images/quadrant-fs8.png');
    background-size: 100% 100%;
    background-repeat: no-repeat;
    background-position: center;
}

.quadrant-sector {
    background-color: transparent;
}

.quadrant-sector-hover:hover {
    background-color: rgba(45, 55, 72, 0.75);
}

.list-style-dash {
    list-style-type: "- ";
}
        </style>

        <!-- Alpine JS -->
        <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>

        <!-- ToastedJS -->
        <link rel="stylesheet" href="https://unpkg.com/toastedjs/dist/toasted.min.css">
        <script src="https://unpkg.com/toastedjs/dist/toasted.min.js"></script>

        <!-- Our Script -->
        <script src="/galaxy/script.js"></script>
    </head>

    <body class="bg-black text-white font-display">
        <div class="page h-screen" x-data="global">
            <!-- Title -->
            <h1 class="row-start-1 row-end-2 col-start-1 col-end-2 text-xl font-black whitespace-no-wrap py-4 px-12 text-gray-900 bg-gray-200">Galactic Imperator</h1>

            <!-- Top Bar -->
            <div class="row-start-1 row-end-2 col-start-2 col-end-3 bg-gray-700">
                <ul class="flex justify-evenly w-full h-full items-center">
                    <template x-for="(item, index) in data.topbarItems" :key="index">
                        <li class="text-lg">
                            <a @click.prevent="data = setScreen(data, item)"
                               x-text="item"
                               class="no-underline select-none text-white font-normal"
                               :class="(data.screen === item) ? 'text-yellow-300 hover:text-yellow-300 cursor-default' : 'cursor-pointer'"
                               >
                            </a>
                        </li>
                    </template>
                </ul>
            </div>

            <!-- Side Bar -->
            <div class="row-span-1 p-4 bg-gray-800">
                <div class="flex flex-col-reverse justify-between h-full">
                    <div class="text-center flex flex-col">
                        <p x-text="starDateText()"></p>
                        <a @click.prevent="data = nextTurn(data)"
                           class="cursor-pointer text-xl text-red-100 hover:text-yellow-300 bg-red-900 hover:bg-red-800 p-2 rounded no-underline select-none">Next Turn</a>
                    </div>

                    <template x-if="data.screen === 'Quadrant' && data.viewingSectorIndex === null && data.highlightedSectorIndex !== null">
                        <p x-text="sectorText(data.highlightedSectorIndex)"></p>
                    </template>

                    <template x-if="data.screen === 'Quadrant' && data.viewingSectorIndex !== null">
                        <a @click.prevent="data.viewingSectorIndex = null"
                           class="text-center cursor-pointer text-xl text-green-100 hover:text-yellow-300 bg-green-800 hover:bg-green-700 p-2 rounded no-underline select-none">Back to Map</a>
                    </template>
                </div>
            </div>

            <!-- Main Screen -->
            <div class="row-span-1 overflow-y-auto w-full h-full">
                <!-- Quadrant Screen -->
                <template x-if="data.screen === 'Quadrant'">
                    <div class="w-full h-full">
                        <!-- Map -->
                        <template x-if="data.viewingSectorIndex === null">
                            <div class="p-4 w-full h-full">
                                <div class="quadrant w-full h-full">
                                    <template x-for="i in 144" :key="i">
                                        <div class="quadrant-sector border-teal-300 text-teal-300 flex items-center select-none"
                                             :class="quadrantBorderClasses(i)"
                                             @mouseover="data.highlightedSectorIndex = gridIndexToSectorIndex(i)"
                                             @click="data.viewingSectorIndex = i"
                                             >
                                             <p x-text="quadrantText(i)"
                                                class="font-monospace text-base m-0"
                                                ></p>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </template>

                        <!-- Sector View -->
                        <template x-if="data.viewingSectorIndex !== null">
                            <div class="p-8">
                                <h2 x-text="sectorText(data.viewingSectorIndex)"
                                    class="text-xl"
                                    >
                                </h2>
                            </div>
                        </template>
                    </div>
                </template>

                <!-- Intel Screen -->
                <template x-if="data.screen === 'Intel'">
                    <div class="grid grid-cols-2 grid-rows-1 p-8 font-monospace">
                        <div class="pr-8">
                            <h2 class="text-xl text-bold mb-4">Reports</h2>
                            <ul class="pl-4 list-style-dash">
                                <template x-for="(item, index) in data.reports" :key="item">
                                    <li x-text="item" class="mb-4"></li>
                                </template>
                            </ul>
                        </div>
                        <div class="pl-8">
                            <h2 class="text-xl text-bold mb-4">Orders</h2>
                            <ul class="pl-4 list-style-dash">
                                <template x-for="(item, index) in data.orders" :key="item">
                                    <li x-text="item" class="mb-4"></li>
                                </template>
                            </ul>
                        </div>
                    </div>
                </template>
            </div>
        </div>
    </body>
</html>
